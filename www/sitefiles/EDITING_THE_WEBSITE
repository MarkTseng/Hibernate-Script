The web site is stored in a subversion repository that is checked out to two
places:
 /var/web/stage/sitefiles/  <- the staging site available at stage.suspend2.net
 /var/web/www/sitefiles/    <- the real website available at www.suspend2.net

Making edits to the website is probably best done in the stage site first so
you can see changes before pushing them live. Almost all of the HTML files in
/var/web/stage/sitefiles/ are processed by the Prettify script to add a header
and footer to and put into the actual website in ../htdocs/ .

Steps to edit the website:

  1. Become the webslave user (resolves all sorts of permissions issues)
    $ sudo su - webslave

  2. Enter the stage web site
    $ cd /var/web/stage/sitefiles

  3. Update the working copy from the subversion repository, just in case
    $ svn update

  4. Edit the files in this directory. Note there are some special files, or
  parts of files that are generated from other sources:

    downloads/index.html -- generated from download.xml using the
        parse_downloads script
    
    part of index.html -- (will be) also generated from download.xml to show the
        latest downloads

    All the FAQ-*.html and HOWTO-*.html files -- generated from FAQ.sgml and
        HOWTO.sgml respectively by linuxdoc.

    top.html and bottom.html are attached to the top and bottom of every page,
    respectively.

    Some substitutions are done, surrounded by 3 #'s, such as ###DATE###.

  New files must be added to the subversion repository:
    $ svn add newfile.html
  and added to the Makefile under PAGES = 
  
  Similarly new directories must also be added under subversion, and added to
  the DIRS = line in the Makefile.

  5. Try out your changes
    $ make

  6. Once you are happy, commit them to the repository
    $ svn commit -m "some changelog message"

  7. To update the live site, run
    $ update-live-site
  This cd's into /var/web/www/sitefiles, runs "svn update" and "make"

Et voila!
