TITLE=Software Suspend for Linux

<h1>###TITLE###</h1>

<p>Software Suspend is most easily described as the Linux equivalent of
Windows' hibernate functionality. It saves the contents of memory to
disk and powers down. When the computer is started up again, it reloads
the contents and the user can continue from where they left off. No
documents need to be reloaded or applications reopened and the process
is much faster than a normal shutdown and start up.</p>

<p class="Note"><a href="#2.1">Software Suspend 2.1 for Linux 2.6 is out!</a></p>

<p>Software Suspend has a long <a href="features.html">feature list</a>,
including the ability to cancel a suspend by pressing Escape, image compression
to save time or space, a versatile plugin architecture, and support for
machines with Highmem, preemption and SMP.

<p>The Software Suspend website (this one) and <a href="lists.html">mailing
list</a> provide support for dealing with issues arising. An IRC channel
<tt>#swsusp</tt> has been created on irc.freenode.net, where people may be able
to help you with problems.</p>

<p>A huge thanks must go to Nigel Cunningham, Florent Chabaud, Pavel Machek,
Gabor Kuti, and Michael Frank along with many others who have tested and
contributed to the development of Software Suspend.</p>

<h2>Current Status</h2>

<p>You will always find the latest version of Software Suspend on the
<a href="http://developer.berlios.de/project/showfiles.php?group_id=1412">Berlios download page</a>.
This holds the latest patches against both the 2.4 kernel series and the 2.6
kernel series.</p>

<table border="0">
<tr><td colspan="2"><hr/></td></tr>
<tr><td colspan="2" align="left"><b>Latest stable version for 2.6 <!--<i>AND</i> 2.4 -->kernels:</b> 2.1</td></tr>
<tr><td colspan="2">
<ul>
<li><a href="http://download.berlios.de/softwaresuspend/software-suspend-2.1-for-2.6.9.tar.bz2">Software Suspend 2.1 for kernel 2.6.9</a>
<li>Patches for 2.4 kernels will be coming soon.
</ul></td></tr>
<tr><td colspan="2"><hr/></td></tr>
<tr><td colspan="2"><b>Latest development patches:</b> These patches are
released against the current kernel version, and regularly updated. They may
contain bugs, and you are encouraged to report them to the mailing list. It is
recommended that you follow the list if you use these. They are available at
the bottom of the
<a href="http://developer.berlios.de/project/showfiles.php?group_id=1412">Berlios download page</a>,
under "Test Patches".</td></tr>
<tr><td colspan="2"><hr /></td></tr>

<tr><td colspan="2"><b>Latest bleeding edge patches:</b> You will find bleeding edge patches
posted to the <a href="lists.html">mailing list</a>. The
<a href="http://marc.theaimsgroup.com/?l=swsusp-devel&r=1">archives at MARC</a>
save attachments, so you can retrieve these patches. Generally, these patches
become the part of the next main development release (if they work ;).</td></tr>
<tr><td colspan="2"><hr /></td></tr>

<tr><td colspan="2"><b>Latest hibernate script:</b> available from the <a href="http://developer.berlios.de/project/showfiles.php?group_id=1412">Berlios download page</a>.
</td></tr>
<tr><td colspan="2"><hr /></td></tr>

</table>


<h2>Latest News</h2>

<a name="2.1"></a><b>20 October 2004: Software Suspend 2.1 for Kernel 2.6.9</b>
<p>It's been far from quiet in the last few months as Nigel has been working
tirelessly on Software Suspend 2, and towards getting it merged into the
mainstream kernel. Software Suspend 2.1 is the latest release to be officially
marked as stable (though people have been running development patches for some
time quite happily!).</p>

<p>This version includes tons of changes since 2.0, possibly most importantly,
the ability to build Software Suspend 2 as modules. This allows it to be loaded
from an initrd, opening up <a href="FAQ-6.html#ss6.1">all sorts of
possibilities</a>.</p>

<p><a href="http://lists.berlios.de/pipermail/softwaresuspend-announce/2004-October/000003.html">Nigel's announcement</a> &nbsp;&nbsp;&nbsp; 
<a href="http://download.berlios.de/softwaresuspend/software-suspend-2.1-for-2.6.9.tar.bz2">Download</a>
</p>

<a name="moving"></a><b>15 July 2004: We're on the move!</b>
<p>We're making the switch to
<a href="http://softwaresuspend.berlios.de/">http://softwaresuspend.berlios.de/</a>.
The <a href="lists.html">mailing lists</a> have also changed; please see the
link for new details. The SourceForge lists won't be used for much longer.
</p>

<a name="wiki"></a><b>4 July 2004: Wiki created</b>
<p>A <a href="wiki/">wiki</a> has been created for sharing information relevant
to Software Suspend 2. Such items include hardware compatibility, known issues
with compilers, known issues with certain patch versions, etc. It is not a
place to ask questions - they belong on the <a href="lists.html">mailing
list</a>. Please keep it tidy :)
</p>

<a name="2.0_2.4.26"></a><b>12 June 2004: Version specific patch for 2.4.26</b>
<p>While the development of Software Suspend 2 has been very active, until now
the only patches available for 2.4.26 were test patches. A patch for the 2.0
release has been created for 2.4.26, and is available
<a href="http://prdownloads.sourceforge.net/swsusp/software-suspend-linux-2.4.26-rev1-whole.bz2?download">here</a>.
</p>

<a name="announcelist"></a><b>23 March 2004: New <tt>swsusp-announce</tt> mailing list created</b>
<p>For those not-quite-bleeding-edge junkies that want to hear about the latest,
but not be flooded by a mass of bug reports and discussion, a new mailing list
has been created. The <tt>swsusp-announce</tt> list will be very low volume,
with only announcements of new versions of Software Suspend, patches, and
suspend scripts. <a href="http://lists.sourceforge.net/mailman/listinfo/swsusp-announce">Click here to subscribe.</a>
</p>

<a name="2.0"></a><b>30 January 2004: Software Suspend hits 2.0!</b>
<p>Software Suspend 2.0 for Linux 2.4 and 2.6 kernels is now available. The
2.0 release is a major advance over previous versions and includes the following
features:
<ul>
<li>Support for Highmem (up to 4GB), SMP (on 2.4, 2.6 soon) and preemptive kernels.</li>
<li>Support for any number of swap partitions and/or files.</li>
<li>Full asynchronous I/O and readahead for synchronous I/O for maximum throughput.</li>
<li>Image compression (LZF and GZIP - the former is very fast and highly recommended).</li>
<li>Support for saving a full image of your memory, resulting in a fast, responsive system after resuming.</li>
<li>Support for plugins: data transformers (compression, encryption) and new storage backends (NFS support is planned).</li>
<li>Nice user interface (<a href="http://www.bootsplash.org">Bootsplash</a> compatible).</li>
<li>The ability to specify a maximum image size.</li>
<li>The ability to cancel a suspend by pressing Escape (for security, this can be disabled).</li>
<li>Speed and reliability - Software Suspend 2.0 has been extensively tested in a variety of configurations over many months. It is not guaranteed to be perfect, but bugs found will be hunted and fixed quickly.</li>
</ul>
This website includes extensive documentation, including 
<a href="status.html">known issues</a> (primarily DRI and USB support) and
FAQs. A well-used <a href="lists.html">mailing list</a> is also available.</p>
<p>Note that two patches are required to use suspend: one for the particular 
kernel version you are using and a second (applied afterwards) contains the core
files.</p>

<p>Special thanks go to Michael Frank for many months of extensive testing of the
code, to Marc Lehmann for the work on the LZF compressor, and to Bernard Blackham
for maintaining the website and especially to <a href="http://www.linuxfund.org">LinuxFund.org</a> for their sponsorship of the project, which has allowed me to 
work full time on Software Suspend over the last four months.
</p>
<div align="right">-- Nigel Cunningham</div>


<b>27 January 2003: swsusp 2.0-rc5 core patch</b>
<p>Nigel writes:
<i>Core patch 2.0rc5 is now available on Sourceforge. I'm really truly
expecting it to be the last rc. This is not to say that I think we've
got it completely bug free, but that it's close enough for me to feel
happy about calling it 2.0.  The main changes since rc4:</i>
<ul>
<li> Console printing calls reworked in response to discussions on LKML.</li>
<li> Initial SCSI support. Your mileage will vary, depending upon
how/whether your SCSI driver implemented power management support.</li>
<li> Confirmed success running on an 8 processor box (except that SCSI
power management was broken on the box, so I couldn't get past starting
to try to re-read the caches).</li>
<li> Fixed an issue with reserved Highmem pages causing an oops in
copy_pageset1.</li>
<li> Fixed preemption issues with 2.6.</li>
<li> Keys for debugging reworked so serial console and normal keyboard use
the same keys: P for pausing, S for single step, Space to continue when
paused.</li>
</ul>

</p>



<b>17 January 2003: swsusp 2.0-rc4 available!</b>
<p><a href="http://marc.theaimsgroup.com/?l=swsusp-devel&m=107428204512719&w=2">Nigel writes</a>: <i><a href="http://prdownloads.sourceforge.net/swsusp/software-suspend-core-2.0-rc4-whole.bz2?download">Release candidate 4</a> is ready for you to test. It should be
used with the following updated version specific patches, which are also now
available:
<ul>
<li><a href="http://prdownloads.sourceforge.net/swsusp/software-suspend-linux-2.4.21-rev1-whole.bz2?download">2.4.21 revision 1</a></li>
<li><a href="http://prdownloads.sourceforge.net/swsusp/software-suspend-linux-2.4.22-rev1-whole.bz2?download">2.4.22 revision 1</a></li>
<li><a href="http://prdownloads.sourceforge.net/swsusp/software-suspend-linux-2.4.23-rev5-whole.bz2?download">2.4.23 revision 5</a></li>
<li><a href="http://prdownloads.sourceforge.net/swsusp/software-suspend-linux-2.4.24-whole.bz2?download">2.4.24</a></li>
</ul>
</i>
The major changes since rc3 are fixes for preemption in 2.6, LZF compression
(Really Fast!), serial port power management support, numerous other bugfixes,
code documentation and cleanups.
</p>

<b>30 December 2003: Comparison table</b>
<p>A <a href="features.html#compare">comparison table</a> has been compiled by Harry
Rockefeller and Nigel comparing the 3 different implementations available in
the 2.6 kernel and may clear up some confusion.</p>

<b>10 December 2003: swsusp 2.0-rc3 is out for 2.4 <i>AND</i> 2.6!</b>
<p>
No, it hasn't been quiet at all! Thanks to many test patches and our bleeding edge
testers, <a href="http://marc.theaimsgroup.com/?l=swsusp-devel&m=107103023307010&w=2">Nigel has announced swsusp 2.0-rc3</a>. There are now two patches one needs to apply to
obtain swsusp. The first is a version-specific patch for your kernel, whether it
be
<a href="http://prdownloads.sourceforge.net/swsusp/software-suspend-2.0-linux-2.4.23.bz2?download">2.4.23</a>
<a href="http://prdownloads.sourceforge.net/swsusp/software-suspend-2.0-linux-2.4.22.bz2?download">2.4.22</a>
<a href="http://prdownloads.sourceforge.net/swsusp/software-suspend-2.0-linux-2.4.21.bz2?download">2.4.21</a> or
<a href="http://prdownloads.sourceforge.net/swsusp/software-suspend-2.0-linux-2.6.0-test11-rev2.bz2?download">2.6.0-test11</a>.

The second is the 
<a href="http://prdownloads.sourceforge.net/swsusp/software-suspend-2.0-core-rc3A.bz2?download">core patch</a>
to be applied regardless of your kernel version.</p>

<p><b>NOTE:</b> The kernel command line parameters have changed. <tt>resume=</tt>
and <tt>noresume</tt> have been deprecated, in favour of <tt>resume2=</tt> and
<tt>noresume2</tt> to avoid clashing with other 2.6 parameters, and which will
allow for alternate methods of storing the suspend image (eg, on an NFS mount)
in the future.  If your resume line currently reads <tt>resume=/dev/hda1</tt>
then it should be changed to <tt>resume2=swap:/dev/hda1</tt>. For swap files,
similar changes have occured - read 
<a href="http://marc.theaimsgroup.com/?l=swsusp-devel&m=107103023307010&w=2">Nigel's announcement</a> for the details.
</p>
<p>Furthermore, <tt>/proc/sys/kernel/swsusp</tt> has finally been moved into 
<tt>/proc/swsusp/all_settings</tt>. This means you will need to update your
suspend scripts accordingly too.
</p>
<p>For more gory details, <a href="http://marc.theaimsgroup.com/?l=swsusp-devel&m=107103023307010&w=2">read Nigel's announcement</a>.
</p>

<b>28 October 2003: swsusp 2.0-alpha2 for 2.6</b>
<p>
This version removes lots of unneeded code leftover from 2.4, fixes some compilation errors, documentation updates and more.
For more details, see <a href="http://marc.theaimsgroup.com/?l=swsusp-devel&m=106732559122481&w=2">Nigel's announcement</a>, including release notes.<br>
<a href="http://prdownloads.sourceforge.net/swsusp/swsusp-2.0-2.6-alpha2-incremental.bz2?download">Download it here (incremental patch against 2.0-2.6-alpha1)</a>.
</p>

<b>25 October 2003: swsusp 2.0-alpha1 for the 2.6 kernel!</b>
<p>
Nigel writes: <i>"I'm pleased to be able to announce the first test release of
a port of the current 2.0 pre-release Software Suspend code to 2.6."</i><br>
For more details, see <a href="http://sourceforge.net/mailarchive/message.php?msg_id=6361426">Nigel's announcement</a>, including release notes.<br>
<a href="http://prdownloads.sourceforge.net/swsusp/swsusp-2.0-2.6alpha1.bz2?download">Download it here (patch against 2.6.0-test8)</a>.
</p>

<b>20 October 2003: swsusp 2.0-rc2</b>
<p>2.0-rc2 fixes and squashes more bugs, including:
<ul>
<li>Various fixes/improvements to the freezer
<li>Fix for ACPI continually generating lid events post-resume (subject to further investigation, but this works and has no negative side effects)
<li>Fix for no progress bar during reading kernel image back
<li>Fix for bug in switching from bootsplash to text mode progress bar
<li>Fix/rework for allocating zlib memory when compression support enabled
<li>Fixing support for swapfiles on file systems with blocksize != 1024 and not aligned on 4096 byte boundaries
<li>Fix for memory corruption when number of range pages == 53
</ul>
</p>
<p>
<a href="http://marc.theaimsgroup.com/?l=swsusp-devel&m=106660860226851&w=2">Read Nigel's announcement</a><br>
<a href="http://prdownloads.sourceforge.net/swsusp/swsusp-2.0-rc2-incremental.bz2?download">Download incremental patch from 2.0-rc1</a><br>
<a href="http://prdownloads.sourceforge.net/swsusp/swsusp-2.0-rc2-whole.bz2?download">Download whole patch against 2.4.22</a><br>
</p>


<b>9 October 2003: swsusp 2.0-rc1</b>
<p>
Due to the many substantial changes in swsusp since 1.0, it was decided that
the next release be called 2.0, not 1.1 as originally planned. There will be no
1.1 release.</p>
<p>This patch adds:
<ul>
<li>support for suspending lots of <a href="http://sourceforge.net/mailarchive/message.php?msg_id=6202070">kernel daemons</a> (so that modules do not need to be unloaded)
<li>the Control key now acts as if the <tt>noresume</tt> option had been passed on the kernel command line
<li>a "softer" power down (switching off no longer ends in a "clunk" for some users)
<li>a slight speed increase
<li>more bugfixes &amp; code cleanups
</ul></p>
<p>
<a href="http://sourceforge.net/mailarchive/message.php?msg_id=6241575">Read Nigel's announcement</a><br>
<a href="http://prdownloads.sourceforge.net/swsusp/swsusp-2.0-rc1-incremental.bz2?download">Download incremental patch from 1.1-rc10</a><br>
<a href="http://prdownloads.sourceforge.net/swsusp/swsusp-2.0-rc1-whole.bz2?download">Download whole patch against 2.4.22</a><br>
</p>


<p>
<a href="oldnews.html">Older news...</a>
</p>
